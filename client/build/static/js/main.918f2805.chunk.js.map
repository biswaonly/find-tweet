{"version":3,"sources":["reducers/main.js","reducers/index.js","actions/types.js","store.js","components/Card.js","components/Content.js","components/InputBox.js","actions/main.js","App.js","index.js"],"names":["initialState","data","combineReducers","main","state","arguments","length","undefined","action","type","payload","console","log","Object","objectSpread","concat","toConsumableArray","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","apply","Card","_ref","item","react_default","a","createElement","className","src","profile_image_url","alt","screen_name","text","connect","_useState","useState","_useState2","slicedToArray","setState","react","onClick","map","index","components_Card","id","io","sailsIOClient","socketIOClient","sails","url","socket","get","res","submit","searchData","asyncToGenerator","regenerator_default","mark","_callee","dispatch","config","body","wrap","_context","prev","next","headers","Content-Type","JSON","stringify","axios","post","sent","t0","stop","_x","this","loadData","twObj","_ref2","_callee2","_context2","err","_x2","ipText","setIpText","onSubmit","e","preventDefault","useEffect","on","placeholder","name","value","onChange","target","required","autoFocus","App","es","components_InputBox","components_Content","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.918f2805.chunk.js","sourcesContent":["import { GET_DATA, DATA_ERROR } from \"../actions/types\";\n\nconst initialState = {\n  data: []\n};\n\nexport default function(state = initialState, action) {\n  const { type, payload } = action;\n  console.log(payload);\n\n  switch (type) {\n    case GET_DATA:\n      return { ...state, data: [payload, ...state.data] };\n\n    case DATA_ERROR:\n      return { ...state, data: [] };\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport main from \"./main\";\n\nexport default combineReducers({\n  main\n});\n","export const GET_DATA = \"GET_DATA\";\nexport const DATA_ERROR = \"DATA_ERROR\";\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Card = ({item}) => {\n\treturn (\n\t\t<div className=\"card\">\n\t\t\t<div className=\"user\">\n        <img className=\"avatar\" src={item.profile_image_url} alt=\"A\"></img>\n        <div className=\"name\">@{item.screen_name}</div>\n      </div>\n      <div className=\"info\">\n        {/* <p className=\"date\">{item.created_at}</p> */}\n        <p className=\"tweet\">{item.text}</p>\n      </div>\n\t\t</div>\n\t)\n}\n\nCard.propTypes = {\n\n}\n\nexport default Card\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport Card from \"./Card\";\n\nconst Content = ({ data }) => {\n  const [state, setState] = useState(9);\n\n  const onClick = () => {\n    setState(state + 10);\n  };\n\n  return (\n    <Fragment>\n      <div>\n        <button className=\"btn_load_more\" onClick={onClick}>\n          LOAD MORE\n        </button>\n      </div>\n      <div className=\"content\">\n        {data.map((item, index) => {\n          if (index > data.length - state) {\n            return <Card id={index} item={item} />;\n          } else {\n            return null;\n          }\n        })}\n      </div>\n    </Fragment>\n  );\n};\n\nContent.propTypes = {\n  data: PropTypes.array\n};\n\nconst mapStateToProps = state => ({\n  data: state.main.data\n});\n\nexport default connect(mapStateToProps)(Content);\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { connect } from \"react-redux\";\nimport { submit } from \"../actions/main\";\n\nimport socketIOClient from \"socket.io-client\";\nimport sailsIOClient from \"sails.io.js\";\nimport { loadData } from \"../actions/main\";\n\nconst io = sailsIOClient(socketIOClient);\nio.sails.url = \"http://localhost:1337\";\n\n/**\n * SubscribeToTweets\n * sails socket not allow to send the data without subscribing.\n * So, this needs to run first\n */\nio.socket.get(\"/subscribeToTweet\", function(res) {\n  console.log(res);\n});\n\nconst InputBox = ({ submit, loadData }) => {\n  const [ipText, setIpText] = useState(\"\");\n\n  const onChange = e => {\n    setIpText(e.target.value);\n  };\n  const onSubmit = async e => {\n    e.preventDefault();\n    console.log(\"BTN CLICKED\");\n\n    submit(ipText);\n  };\n  // On newTweet event broadcast\n  useEffect(() => {\n    console.log(\"came to use effect\");\n    io.socket.on(\"newTweet\", e => {\n      loadData(e);\n    });\n  }, []);\n  return (\n    <div className=\"input_box\">\n      <h2>Search Tweets Here</h2>\n      <form onSubmit={e => onSubmit(e)}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter Something\"\n          name=\"ipText\"\n          value={ipText}\n          onChange={e => onChange(e)}\n          required\n          autoFocus\n        />\n        <input type=\"submit\" value=\"SUBMIT\" />\n      </form>\n    </div>\n  );\n};\nInputBox.propTypes = {\n  loadData: PropTypes.func.isRequired,\n\n  submit: PropTypes.func.isRequired\n};\n\nexport default connect(\n  null,\n  { submit, loadData }\n)(InputBox);\n","import axios from \"axios\";\nimport { GET_DATA, DATA_ERROR } from \"./types\";\n\nexport const submit = searchData => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n\n  const body = JSON.stringify({ searchData });\n\n  try {\n    const res = await axios.post(\"http://localhost:1337/tweet\", body, config);\n\n    dispatch({\n      type: DATA_ERROR,\n      payload: res.data\n    });\n  } catch (err) {\n    console.log(err);\n\n    dispatch({\n      type: DATA_ERROR\n    });\n  }\n};\n\nexport const loadData = twObj => async dispatch => {\n  console.log(\"ACTION === === === == ==\",twObj);\n  \n  try {\n    dispatch({\n      type: GET_DATA,\n      payload: twObj\n    });\n  } catch (err) {\n    console.log(err);\n    dispatch({\n      type: DATA_ERROR\n    });\n  }\n};\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport \"./App.css\";\nimport Content from \"./components/Content\";\nimport InputBox from \"./components/InputBox\";\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <InputBox />\n        <Content />\n      </div>\n    </Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}